extends baseviews/base_layout

block header-scripts
    title Gulp Demo Website 网站首页

block body-contents
    //- Index Banner
    div.gb-site-index-banner
        div.am-g.am-g-fixed.am-center.am-padding-horizontal-lg
            h1 Banner For Index Page
            p 首页的标题图片

    //- Random Motto
    each mitem in data.mottos
        span.hide-mottos.am-hide= mitem
    div.am-g.am-g-fixed.am-center.am-padding-top-xl.am-padding-horizontal-lg
        h1.am-link-muted
            span.am-icon-envira.am-margin-right-sm.custom-text-shadow
            span.custom-text-shadow 箴言 Motto
        p.am-kai.am-text-xxl.am-text-center
            strong 
                blockquote.am-text-xxl#rand-motto

    //- News Links Part
    div.am-g.am-g-fixed.am-padding-top-xl.am-padding-horizontal-lg
        h1.am-link-muted
            span.am-icon-bell-o.am-margin-right-sm.custom-text-shadow
            span.custom-text-shadow 企业新闻 News
    div.am-g.am-g-fixed.am-padding-vertical-xl.am-padding-horizontal-lg
        ul.am-avg-sm-1.am-avg-md-2
            each nitem in data.newsjsons
                li
                    div.am-margin-horizontal-xs
                        strong 
                            a(href=`./${nitem.id}.html`)= nitem.title
                        p.am-text-sm.am-link-muted= nitem.datetime
                        p.am-text-sm.am-link-muted= nitem.preface
    div.am-g.am-g-fixed.am-text-right.am-padding-bottom-xl.am-padding-horizontal-lg
        a(href="news_list_1.html") 更多新闻 >>>

block footer-scripts
    script.
        $(document).ready(function() {
            $("ul.am-topbar-nav li:eq(0)").addClass("am-active");

            // Random motto
            var motto_count = $(".hide-mottos").length;
            var rand_motto_id = Math.trunc(Math.random() * motto_count); 
            $("#rand-motto").text($("span.hide-mottos:eq(" + rand_motto_id + ")").text());
        });
